#!/usr/bin/env php
<?php


/**
 *
 *
 *
 * // Move the cursor to the beginning of the line
 * $this->output->write("\x0D");
 *
 * // Erase the line
 * $this->output->write("\x1B[2K");
 *
 * // Erase previous lines
 * if ($this->formatLineCount > 0) {
 * $this->output->write(str_repeat("\x1B[1A\x1B[2K", $this->formatLineCount));
 * }
 *
 *
 *
// Move cursor backwards
$output->write("\033[1D");
 *
 *
// Erase characters from cursor to end of line
$output->write("\033[K");
 *
 *
 *
// Save cursor position
$output->write("\0337");
// Write highlighted text
$output->write('<hl>'.substr($matches[$ofs], $i).'</hl>');
// Restore cursor position
$output->write("\0338");
 */


function eraseLine($n = 1)
{
    if ($n < 1) {
        throw new \Exception("Cannot erase less than one line");
    }
    for ($i = 0; $i < $n; $i++) {
        echo "\x1B[1A\x1B[2K";
    }
}


echo "line 1" . PHP_EOL;
echo "line 2" . PHP_EOL;
echo "line 3" . PHP_EOL;
eraseLine(2);
